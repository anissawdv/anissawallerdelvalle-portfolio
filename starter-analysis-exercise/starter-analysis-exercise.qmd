---
title: "Data Analysis Assessment"
---

*Load the needed packages. For this assignment, I used the dslabs package, the tidyverse package, and the ggplot2 package.*

```{r}
library("dslabs") 
library("tidyverse")
library("ggplot2")
```

*Running the next command in the R console to seek information/assistance on gapminder.*

```{r}
help(gapminder)
```

*The str() function in R is short for structure. Running this command enables users to display the internal structure of an R object. I will run this command to display the structure of the gapminder dataset.*

```{r}
# display structure of dataset 
str(gapminder)
```

'data.frame': 10545 obs. of 9 variables: \$ country : Factor w/ 185 levels "Albania","Algeria",..: 1 2 3 4 5 6 7 8 9 10 ... \$ year : int 1960 1960 1960 1960 1960 1960 1960 1960 1960 1960 ... \$ infant_mortality: num 115.4 148.2 208 NA 59.9 ... \$ life_expectancy : num 62.9 47.5 36 63 65.4 ... \$ fertility : num 6.19 7.65 7.32 4.43 3.11 4.55 4.82 3.45 2.7 5.57 ... \$ population : num 1636054 11124892 5270844 54681 20619075 ... \$ gdp : num NA 1.38e+10 NA NA 1.08e+11 ... \$ continent : Factor w/ 5 levels "Africa","Americas",..: 4 1 1 2 2 3 2 5 4 3 ... \$ region : Factor w/ 22 levels "Australia and New Zealand",..: 19 11 10 2 15 21 2 1 22 21 ...

*The summary command in R produces summary statistics for a given dataset or vector. I will obtain a summary of the data.*

```{r}
# obtain summary          
summary(gapminder)
```

```         
            country           year      infant_mortality life_expectancy
```

Albania : 57 Min. :1960 Min. : 1.50 Min. :13.20\
Algeria : 57 1st Qu.:1974 1st Qu.: 16.00 1st Qu.:57.50\
Angola : 57 Median :1988 Median : 41.50 Median :67.54\
Antigua and Barbuda: 57 Mean :1988 Mean : 55.31 Mean :64.81\
Argentina : 57 3rd Qu.:2002 3rd Qu.: 85.10 3rd Qu.:73.00\
Armenia : 57 Max. :2016 Max. :276.90 Max. :83.90\
(Other) :10203 NA's :1453\
fertility population gdp continent\
Min. :0.840 Min. :3.124e+04 Min. :4.040e+07 Africa :2907\
1st Qu.:2.200 1st Qu.:1.333e+06 1st Qu.:1.846e+09 Americas:2052\
Median :3.750 Median :5.009e+06 Median :7.794e+09 Asia :2679\
Mean :4.084 Mean :2.701e+07 Mean :1.480e+11 Europe :2223\
3rd Qu.:6.000 3rd Qu.:1.523e+07 3rd Qu.:5.540e+10 Oceania : 684\
Max. :9.220 Max. :1.376e+09 Max. :1.174e+13\
NA's :187 NA's :185 NA's :2972\
region\
Western Asia :1026\
Eastern Africa : 912\
Western Africa : 912\
Caribbean : 741\
South America : 684\
Southern Europe: 684\
(Other) :5586

*The class() function in R determines the class (i.e., data type or structure) of an object. I will determine the type of object gapminder is.*

```{r}
# determine object type 
class(gapminder)
```

\[1\] "data.frame"

*I will write code that assigns only the African countries to a new object called africadata.*

```{r}
# assign African countries to new object
africadata <- gapminder %>% 
     filter(continent == "Africa")
```

-   *\<- is an assignment operator. It will assign the filtered data to a new object, which I have named africadata.*

-   *gapminder is the dataset being used. %\>% is a pipe operator. It will take the output of one function and use it as the input to the next function.*

-   *filter() is a function that selects a subset of rows from a dataset that met specific conditions. It is part of the tidyverse collection.*

-   *continent == "Africa" is the condition being used inside filter(). It will keep rows where the continent coloumn is equal to "Africa". Africa must be in quotes because it is a text string.*

*I will check the new data set using the str and summary functions.*

```{r}
str(africadata) # structure of data
```

'data.frame': 2907 obs. of 9 variables: \$ country : Factor w/ 185 levels "Albania","Algeria",..: 2 3 18 22 26 27 29 31 32 33 ... \$ year : int 1960 1960 1960 1960 1960 1960 1960 1960 1960 1960 ... \$ infant_mortality: num 148 208 187 116 161 ... \$ life_expectancy : num 47.5 36 38.3 50.3 35.2 ... \$ fertility : num 7.65 7.32 6.28 6.62 6.29 6.95 5.65 6.89 5.84 6.25 ... \$ population : num 11124892 5270844 2431620 524029 4829291 ... \$ gdp : num 1.38e+10 NA 6.22e+08 1.24e+08 5.97e+08 ... \$ continent : Factor w/ 5 levels "Africa","Americas",..: 1 1 1 1 1 1 1 1 1 1 ... \$ region : Factor w/ 22 levels "Australia and New Zealand",..: 11 10 20 17 20 5 10 20 10 10 ...

```{r}
summary(africadata) # summary of data 
```

```         
     country          year      infant_mortality
```

Algeria : 57 Min. :1960 Min. : 11.40\
Angola : 57 1st Qu.:1974 1st Qu.: 62.20\
Benin : 57 Median :1988 Median : 93.40\
Botswana : 57 Mean :1988 Mean : 95.12\
Burkina Faso: 57 3rd Qu.:2002 3rd Qu.:124.70\
Burundi : 57 Max. :2016 Max. :237.40\
(Other) :2565 NA's :226\
life_expectancy fertility population\
Min. :13.20 Min. :1.500 Min. : 41538\
1st Qu.:48.23 1st Qu.:5.160 1st Qu.: 1605232\
Median :53.98 Median :6.160 Median : 5570982\
Mean :54.38 Mean :5.851 Mean : 12235961\
3rd Qu.:60.10 3rd Qu.:6.860 3rd Qu.: 13888152\
Max. :77.60 Max. :8.450 Max. :182201962\
NA's :51 NA's :51\
gdp continent\
Min. :4.659e+07 Africa :2907\
1st Qu.:8.373e+08 Americas: 0\
Median :2.448e+09 Asia : 0\
Mean :9.346e+09 Europe : 0\
3rd Qu.:6.552e+09 Oceania : 0\
Max. :1.935e+11\
NA's :637\
region\
Eastern Africa :912\
Western Africa :912\
Middle Africa :456\
Northern Africa :342\
Southern Africa :285\
Australia and New Zealand: 0\
(Other) : 0

*I confirmed there are now 2,907 observations. Now, I will take the africadata object and create two new objects. One object will contain infant_mortality and life_expectancy data. The other will contain population and life_expectancy. I should have two objects with 2,907 observations and two variables.*

*I will generate an object with only infant_mortality and life_expectancy*

```{r}
# create object with only infant mortality and life expectancy          
africa_infantmort_lifeexp <- africadata %>% 
+ select(infant_mortality, life_expectancy)
```

-   *africa_infantmort_lifeexp will be the new object with only infant_mortality and life_expectancy.*

-   *\<- is an assignment operator and will assign the filtered data to the new object, africa_infantmort_lifeexp.*

-   *africadata is the dataset being used.*

-   *select() is a function that will grab a specific coloumn(s) from a dataset, enabling users to create a new dataset that contains only the columns selected.*

```{r}
# displau structure 
str(africa_infantmort_lifeexp)
```

'data.frame': 2907 obs. of 2 variables: \$ infant_mortality: num 148 208 187 116 161 ... \$ life_expectancy : num 47.5 36 38.3 50.3 35.2 ...

```{r}
# obtain summary 
summary(africa_infantmort_lifeexp)
```

infant_mortality life_expectancy Min. : 11.40 Min. :13.20\
1st Qu.: 62.20 1st Qu.:48.23\
Median : 93.40 Median :53.98\
Mean : 95.12 Mean :54.38\
3rd Qu.:124.70 3rd Qu.:60.10\
Max. :237.40 Max. :77.60\
NA's :226

*I have confirmed that the above dataset, africa_infantmort_lifeexp, has 2,907 observations of 2 variables. I will now repeat the process described above to generate the second object with population and life_expectancy*

```{r}
# create object with population and life expectancy          
africa_pop_lifeexp <- africadata %>% 
+ select(population, life_expectancy)
```

```{r}
# display structure of data
str(africa_pop_lifeexp)
```

'data.frame': 2907 obs. of 2 variables: \$ population : num 11124892 5270844 2431620 524029 4829291 ... \$ life_expectancy: num 47.5 36 38.3 50.3 35.2 ...

```{r}
# obtain summary of data
summary(africa_pop_lifeexp)
```

population life_expectancy Min. : 41538 Min. :13.20\
1st Qu.: 1605232 1st Qu.:48.23\
Median : 5570982 Median :53.98\
Mean : 12235961 Mean :54.38\
3rd Qu.: 13888152 3rd Qu.:60.10\
Max. :182201962 Max. :77.60\
NA's :51

*I have confirmed that the above dataset, africa_pop_lifeexp, has 2,907 observations of 2 variables.*

*I will now plot life expectancy as a function of infant mortality. I expect to see a negative correlation between infant mortality and life expectancy.*

```{r}
# plot life expectancy as a function of infant mortality         
ggplot(africa_infantmort_lifeexp, aes(x = infant_mortality, y = life_expectancy)) + 
+ geom_point() + 
+ labs( + title = "Life Expectancy vs Infant Mortality in Africa", 
+ x = "Infant Mortality", 
+ y = "Life Expectancy" + 
)
```

-   *ggplot() is a function used to initialize a plot object. components must be added using the + operator.*

-   *africa_infantmort_lifeexp is the dataset I want to plot.*

-   *aes() is a function that links data variables to aesthetics, like the x and y position on a graph.*

-   *geom_point() is a function used to add individual points to a plot.*

-   *labs() is a function used to modify various labels of a plot.*

![](Life%20Expectancy%20vs.%20Infant%20Mortality%20in%20Africa.png)

*226 rows containing missing values or values outside of the scale range were removed.*

*I have plotted life expectancy as a function of infant mortality. I saw a negative correlation between infant mortality and life expectancy.*

*I will now plot life expectancy as a function of population size. in this plot, the x-axis will be set to log scale.*

```{r}
# plot life expectancy as a function of population size
# set x-axis to log scale          
ggplot(africa_pop_lifeexp, aes(x = population, y = life_expectancy)) 
+ geom_point() 
+ scale_x_log10() 
+ labs( title = "Life Expectancy vs Population in Africa", x = "Population (log scale)", y = "Life Expectancy" )
```

-   *scale_x_log10() is a function that transforms the x-axis of a plot to a base-10 logarithmic scale.*

![](Life%20Expectancy%20vs.%20Population%20in%20Africa.png)

*51 rows containing missing values or values outside of the scale range were removed.*

*I have plotted life expectancy as a function of population size. I saw a positive correlation between population size and life expectancy.*

*In both plots, there are 'streaks' of data. I believe that this due to the fact that I am looking at data for each individual country in africa over several decades (1960 - 2016).*

*As mentioned previously, 226 rows containing missing values or values outside of the scale range were removed from the first plot looking at life expectancy as a function of infant mortality. I will now figure out which years have missing data for infant mortality.*

```{r}
# determine the number of countries that are missing data on infant mortality per year          
africadata %>% 
+ group_by(year) %>% 
+ summarise(missing_infant = sum(is.na(infant_mortality))) %>% 
+ arrange(year)
```

-   *africadata is the dataset that will be used.*

-   *group_by() is a function that organizes data into groups. I will group the data by year.*

-   *summarise() is a function that summarizes a dataset into a single value.*

-   *is.na() is a function that identifies missing values in an object. Here, the object is infant_mortality.*

-   *sum() is a function that adds the number of true values. This will count the number of countries in africa that are missing infant data mortality for each year.*

-   *missing_infant is the name given to the column that will store the counts obtained from the sum(...) function.*

    year missing_infant <int> <int> 1 1960 10 2 1961 17 3 1962 16 4 1963 16 5 1964 15 6 1965 14 7 1966 13 8 1967 11 9 1968 11 10 1969 7 \# ℹ 47 more rows \# ℹ Use `print(n = ...)` to see more rows

*I currently only see the first 10 rows. To see the rest, I will first make missing_infant an object, and then print all rows.*

```{r}
# see all years 
missing_by_year <- africadata %>% 
+ group_by(year) %>% 
+ summarise(missing_infant = sum(is.na(infant_mortality))) %>% 
+ arrange(year)

# print 
print(missing_by_year, n = Inf)
```

year missing_infant <int> <int> 1 1960 10 2 1961 17 3 1962 16 4 1963 16 5 1964 15 6 1965 14 7 1966 13 8 1967 11 9 1968 11 10 1969 7 11 1970 5 12 1971 6 13 1972 6 14 1973 6 15 1974 5 16 1975 5 17 1976 3 18 1977 3 19 1978 2 20 1979 2 21 1980 1 22 1981 1 23 1982 0 24 1983 0 25 1984 0 26 1985 0 27 1986 0 28 1987 0 29 1988 0 30 1989 0 31 1990 0 32 1991 0 33 1992 0 34 1993 0 35 1994 0 36 1995 0 37 1996 0 38 1997 0 39 1998 0 40 1999 0 41 2000 0 42 2001 0 43 2002 0 44 2003 0 45 2004 0 46 2005 0 47 2006 0 48 2007 0 49 2008 0 50 2009 0 51 2010 0 52 2011 0 53 2012 0 54 2013 0 55 2014 0 56 2015 0 57 2016 51

*I can see that all countries in Africa reported infant mortality between the years 1982 - 2015. I will now take a look at data from the year 2000 only. I expect to end up with 51 observations and 9 variables.*

```{r}
# use data only from year 2000          
africa_yr2000 <- africadata %>% 
+ filter(year == 2000)
```

```{r}
str(africa_yr2000) 
```

'data.frame': 51 obs. of 9 variables: \$ country : Factor w/ 185 levels "Albania","Algeria",..: 2 3 18 22 26 27 29 31 32 33 ... \$ year : int 2000 2000 2000 2000 2000 2000 2000 2000 2000 2000 ... \$ infant_mortality: num 33.9 128.3 89.3 52.4 96.2 ... \$ life_expectancy : num 73.3 52.3 57.2 47.6 52.6 46.7 54.3 68.4 45.3 51.5 ... \$ fertility : num 2.51 6.84 5.98 3.41 6.59 7.06 5.62 3.7 5.45 7.35 ... \$ population : num 31183658 15058638 6949366 1736579 11607944 ... \$ gdp : num 5.48e+10 9.13e+09 2.25e+09 5.63e+09 2.61e+09 ... \$ continent : Factor w/ 5 levels "Africa","Americas",..: 1 1 1 1 1 1 1 1 1 1 ... \$ region : Factor w/ 22 levels "Australia and New Zealand",..: 11 10 20 17 20 5 10 20 10 10 ...

```{r}
summary(africa_yr2000)
```

```         
     country        year      infant_mortality
```

Algeria : 1 Min. :2000 Min. : 12.30\
Angola : 1 1st Qu.:2000 1st Qu.: 60.80\
Benin : 1 Median :2000 Median : 80.30\
Botswana : 1 Mean :2000 Mean : 78.93\
Burkina Faso: 1 3rd Qu.:2000 3rd Qu.:103.30\
Burundi : 1 Max. :2000 Max. :143.30\
(Other) :45\
life_expectancy fertility population\
Min. :37.60 Min. :1.990 Min. : 81154\
1st Qu.:51.75 1st Qu.:4.150 1st Qu.: 2304687\
Median :54.30 Median :5.550 Median : 8799165\
Mean :56.36 Mean :5.156 Mean : 15659800\
3rd Qu.:60.00 3rd Qu.:5.960 3rd Qu.: 17391242\
Max. :75.00 Max. :7.730 Max. :122876723

```         
  gdp               continent 
```

Min. :2.019e+08 Africa :51\
1st Qu.:1.274e+09 Americas: 0\
Median :3.238e+09 Asia : 0\
Mean :1.155e+10 Europe : 0\
3rd Qu.:8.654e+09 Oceania : 0\
Max. :1.329e+11

```         
                   region  
```

Eastern Africa :16\
Western Africa :16\
Middle Africa : 8\
Northern Africa : 6\
Southern Africa : 5\
Australia and New Zealand: 0\
(Other) : 0

*I can see 51 observations of 9 variables. I will now make the same plots as above again, this time for the year 2000. I expect to see a negative correlation between infant mortality and life expectancy.*

```{r}
# plot life expectancy as function of infant mortality          
ggplot(africa_yr2000, aes(x = infant_mortality, y = life_expectancy)) + 
+ geom_point() + 
+ labs( + title = "Life Expectancy vs Infant Mortality in Africa (2000)", 
+ x = "Infant Mortality", 
+ y = "Life Expectancy" + 
)
```

![](Life%20Expectancy%20vs.%20Infant%20Mortality%20in%20Africa%20(2000).png)

*I will now make the same plots as above again, this time for the year 2000. I expect to see no noticeable correlation between population size and life expectancy.*

```{r}
# plot population size as function of life expectancy          
ggplot(africa_yr2000, aes(x = population, y = life_expectancy)) + 
+ geom_point() + 
+ scale_x_log10() + 
+ labs( + title = "Life Expectancy vs Population in Africa (2000)", 
+ x = "Population (log scale)", 
+ y = "Life Expectancy" + 
)
```

![](Life%20Expectancy%20vs.%20Population%20in%20Africa%20(2000).png)

*I will fit a linear model to this data. I will fit life expectancy as the outcome and infant mortality as the predictor. I will save the result into an object and view the results of this model.*

-   *lm() is a function used to fit linear models.*

-   *The output is on the left-hand side of \~.*

-   *The predictor is on the right-hand side of \~.*

-   *data = africa_yr2000 is the dataset being used. fit1 is the name of the object being created.*

```{r}
# fit linear model to life expectancy and infant mortality data          
fit1 <- lm(life_expectancy ~ infant_mortality, data = africa_yr2000) 
summary(fit1)
```

*The y-intercept of the regression line is 71.29331. This is the predicted value of life expectancy when infant mortality = 0. The slope is -0.18916. Life expectancy decreases by 0.18916 years with each infant mortality. The slope is statistically significant (p \< 0.001). In sum, this means there is a strong negative correlation between infant mortality and life expectancy, with high infant mortality predicting low life expectancy.*

*I will now repeat with population size as the predictor variable and life expectancy as the outcome.*

```{r}
# fit linear model to life expectancy and population size          
fit2 <- lm(life_expectancy ~ population, data = africa_yr2000) 
summary(fit2)
```

*The y-intercept of the regression line is 55.93. This is the predicted value of life expectancy when population = 0. The slope is 2.756e-08. Life expectancy increases by 2.756e-08 years with each additional person. The slope is not statistically significant. Put together, this means that population size is not a predictor of life expectancy countries in Africa in the year 2000.*